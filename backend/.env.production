# FDC Core - Production Environment Configuration Template
# Copy to .env and configure for production
#
# Secret Management:
# - Use External Secrets Operator with AWS Secrets Manager
# - Or use Doppler, HashiCorp Vault, etc.
# - NEVER commit actual secrets to version control

# ==================== ENVIRONMENT ====================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# ==================== DATABASE ====================
# PostgreSQL - Use SSL in production
# Format: postgresql+asyncpg://USER:PASSWORD@HOST:PORT/DATABASE?ssl=require
DATABASE_URL=${EXTERNAL_SECRET:DATABASE_URL}

# ==================== AUTHENTICATION ====================
# JWT Secret - Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# Must be at least 32 characters
JWT_SECRET_KEY=${EXTERNAL_SECRET:JWT_SECRET_KEY}
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ALGORITHM=HS256

# ==================== CORS ====================
# Production origins only - NO localhost
CORS_ORIGINS=https://fdctax.com,https://www.fdctax.com,https://myfdc.com,https://www.myfdc.com,https://api.fdccore.com

# ==================== STORAGE ====================
# Use S3 in production
STORAGE_REF_BASE=s3://fdc-core-uploads-production
UPLOAD_MAX_SIZE_MB=50

# ==================== INTEGRATIONS ====================
CALENDLY_PAT=${EXTERNAL_SECRET:CALENDLY_PAT}
CALENDLY_WEBHOOK_SECRET=${EXTERNAL_SECRET:CALENDLY_WEBHOOK_SECRET}

# ==================== OBSERVABILITY ====================
SENTRY_DSN=${EXTERNAL_SECRET:SENTRY_DSN}

# ==================== API ====================
API_TITLE=FDC Tax Core API
API_VERSION=1.0.0
API_RATE_LIMIT=100

# ==================== DEPLOYMENT CHECKLIST ====================
# [ ] JWT_SECRET_KEY is a unique, secure 32+ char random string
# [ ] DATABASE_URL uses SSL and production credentials
# [ ] CORS_ORIGINS does NOT include localhost
# [ ] DEBUG is false
# [ ] SENTRY_DSN is configured
# [ ] All secrets are managed via External Secrets Operator
# [ ] Health checks are passing
# [ ] Migrations have been run
